/* LAYOUT: header em uma linha, mapa ocupa a linha de baixo */
.mapa-main {
  display: grid;
  grid-template-rows: auto 1fr; /* header | mapa */
  min-width: 0;
}

/* Header NÃO sobrepõe o mapa */
.mapa-header {
  position: relative;   /* nada de fixed por aqui */
  z-index: 1;
  background: #111;     /* seu tema */
  margin: 0;
  padding: 12px 16px;
  border-bottom: 1px solid #1f2937;
}

/* O MAPA ocupa todo o espaço restante e não fica por baixo do header */
.mapa-container {
  position: relative;   /* remove qualquer fixed/absolute no desktop */
  z-index: 0;
  width: 100%;
  height: 100%;         /* 100% da linha 2 do grid */
  margin: 0;            /* tira margens que causam “encaixe” estranho */
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 0 10px rgba(0,0,0,.35);
}

/* Se tiver um wrapper antes do mapa, garanta que não “empurre” por cima */
.mapa-wrapper, .mapa-section {
  position: relative;
}

/* Mobile continua com mini-mapa no canto (se você quiser manter) */
@media (max-width: 768px) {
  .mapa-main { display: block; }
  .mapa-container {
    position: fixed;
    right: 12px;
    bottom: 12px;
    width: min(52vw, 260px);
    height: 28vh;
    margin: 0;
    z-index: 1000;
    border-radius: 12px;
    box-shadow: 0 10px 28px rgba(0,0,0,.45);
  }
  body, .mapa-main { padding-bottom: calc(28vh + 24px); }
}
